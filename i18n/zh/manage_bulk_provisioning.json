{
  "title": "🚀 AWS IoT Device Management 批量注册管理器 (Boto3)",
  "separator": "===========================================",
  "learning_goal": "📚 学习目标：",
  "learning_description": "此脚本演示了 AWS IoT Device Management 批量注册，适用于制造生产线、\n车队部署或 IoT 设备推广等需要高效注册数百或数千台\n设备的场景。批量注册不是逐个注册设备，而是减少\n运营开销，确保一致的安全策略，并加快上市时间。\n学习如何创建安全设备凭证，将注册数据上传到 Amazon S3，并通过\nAWS IoT Device Management API 监控批量注册任务。",
  "region_label": "📍 区域：",
  "account_id_label": "🆔 账户 ID：",
  
  "warnings": {
    "debug_warning": "⚠️  警告：调试模式会暴露敏感信息（ARN、账户 ID、API 响应）",
    "no_existing_devices": "⚠️  未找到现有设备 - 使用默认命名模式",
    "no_thing_types": "未找到设备类型 - 使用默认类型"
  },
  
  "prompts": {
    "debug_mode": "🔧 启用调试模式（显示所有 API 调用和响应）？[y/N]：",
    "operation_choice": "输入选择 [1-4]：",
    "task_id_input": "输入批量注册任务 ID：",
    "continue_operation": "继续其他操作？[Y/n]：",
    "press_enter": "按回车继续...",
    "thing_type_choice": "选择设备类型 [1-{}]：",
    "select_thing_type": "请为您的新设备选择设备类型 (1-{})："
  },
  
  "status": {
    "debug_enabled": "✅ 调试模式已启用",
    "clients_initialized": "🔍 调试：客户端配置：",
    "iot_service": "   IoT 服务：{}",
    "api_version": "   API 版本：{}",
    "feature_coming_soon": "🚧 此功能将在后续任务中实现",
    "selected_thing_type": "✅ 已选择设备类型：{}",
    "input_file_created": "✅ 输入文件创建成功：{}",
    "device_count": "📊 包含 {} 个设备条目",
    "file_format": "📄 格式：行分隔 JSON",
    "s3_upload_success": "✅ 文件成功上传到 Amazon S3",
    "policy_exists": "✅ 策略 '{}' 已存在",
    "creating_policy": "📝 创建策略 '{}'...",
    "policy_created": "✅ 策略 '{}' 创建成功",
    "task_started": "✅ 批量注册任务启动成功",
    "s3_bucket_found": "✅ 使用 Amazon S3 存储桶：{}",
    "iam_role_found": "✅ 使用 IAM 角色：{}",
    "task_id": "🆔 任务 ID：{}",
    "task_status": "📊 状态：{}",
    "task_created": "📅 创建时间：{}",
    "task_template": "📄 模板：{}",
    "task_input_file": "📁 输入文件：{}/{}",
    "task_role_arn": "🔐 角色 ARN：{}",
    "task_success_count": "✅ 成功数量：{}",
    "task_failure_count": "❌ 失败数量：{}",
    "task_progress": "📈 进度：{}%",
    "found_thing_types": "✅ 找到 {} 个设备类型",
    "found_existing_devices": "📋 找到 {} 个现有设备",
    "detected_pattern": "🔍 检测到模式：'{}' 最高编号：{}",
    "no_existing_devices": "📝 未找到现有设备，使用默认模式",
    "no_recognizable_pattern": "📝 未找到可识别模式，使用默认",
    "device_naming_results": "🔍 设备命名分析结果：",
    "pattern_detected": "检测到模式：'{}'",
    "highest_existing_number": "现有最高编号：{}",
    "new_devices_range": "新设备将是：{} 到 {}",
    "generating_certificates_progress": "🔐 生成证书并创建输入文件...",
    "processing_device": "处理设备 {}/{}：{}",
    "certificate_generated": "✓ 证书已生成并创建条目",
    "available_thing_types_header": "📋 您环境中的可用设备类型：",
    "thing_types_description": "这些是当前在您的 AWS IoT 注册表中定义的设备类别：",
    "thing_type_properties_note": "💡 每种设备类型可能定义了不同的属性和特性。",
    "thing_type_inheritance_note": "您的新设备将继承所选类型的特征。",
    "generated_device_names_header": "📝 生成的设备名称：",
    "bucket_info": "🪣 存储桶：{}",
    "key_info": "🔑 密钥：{}",
    "template_info": "📄 模板：{}",
    "role_info": "👤 角色：{}",
    "task_initializing": "📊 状态：初始化中",
    "bucket_region_mismatch": "⚠️  存储桶区域不匹配：存储桶在 {}，脚本使用 {}",
    "creating_s3_client_for_region": "💡 为存储桶区域创建 Amazon S3 客户端：{}",
    "bucket_region_matches": "✅ 存储桶区域与脚本区域匹配：{}",
    "checking_bucket_region": "⚠️  无法验证存储桶区域：{}",
    "checking_iam_permissions": "🔍 检查批量配置的 IAM 角色权限：{}",
    "iam_has_permissions": "✅ IAM 角色已具有批量配置权限",
    "adding_iam_permissions": "📝 向 IAM 角色添加批量配置权限",
    "iam_permissions_added": "✅ 批量配置权限已添加到 IAM 角色",
    "iam_permissions_failed": "❌ 向 IAM 角色添加批量配置权限失败",
    "s3_policy_attached": "✅ Amazon S3 策略已附加到 AWS IoT Jobs 角色",
    "s3_policy_already_attached": "✅ Amazon S3 策略已附加到角色",
    "found_provision_bucket": "🪣 找到配置脚本存储桶：{}",
    "found_fallback_bucket": "🪣 找到备用存储桶：{}",
    "using_role_from_env": "✅ 使用环境中的角色：{}",
    "found_existing_role": "✅ 找到现有 IoT Jobs 角色：{}",
    "creating_iot_jobs_role": "📝 创建 IoT Jobs 角色：{}",
    "created_iot_jobs_role": "✅ 已创建 IoT Jobs 角色：{}",
    "failed_create_role": "❌ 创建 IoT Jobs 角色失败",
    "role_tags_applied": "🏷️  工作坊标签已应用到角色",
    "role_tags_failed": "⚠️  无法将工作坊标签应用到角色",
    "policy_tags_applied": "🏷️  工作坊标签已应用",
    "policy_tags_failed": "⚠️  无法应用工作坊标签",
    "s3_tags_applied": "🏷️  工作坊标签已应用到 Amazon S3 对象",
    "s3_tags_failed": "⚠️  Amazon S3 对象标记失败：{}",
    "s3_tags_warning": "⚠️  无法将工作坊标签应用到 Amazon S3 对象",
    "cleaned_up_temp_file": "🗑️  已清理临时文件：{}",
    "cleanup_failed": "⚠️  无法清理 {}：{}",
    "provisioning_template_loaded": "✅ 配置模板加载成功",
    "input_template_loaded": "✅ 输入模板加载成功",
    "generating_credentials_for": "🔐 为 {} 生成凭证",
    "openssl_available": "✅ OpenSSL 可用：{}",
    "no_iam_role_found": "❌ 未找到工作坊的 IAM 角色",
    "run_provisioning_first": "💡 请先运行配置脚本以设置所需的 AWS 基础设施",
    "could_not_verify_iam_permissions": "⚠️  无法验证批量配置的 IAM 角色权限",
    "checking_policy_exists": "🔍 检查策略 '{}' 是否存在...",
    "failed_to_create_policy": "❌ 创建策略 '{}' 失败",
    "workshop_tags_applied": "🏷️  工作坊标签已应用",
    "could_not_apply_tags": "⚠️  无法应用工作坊标签",
    "failed_load_provisioning_template": "❌ 加载配置模板失败",
    "task_parameters_header": "🔧 任务参数：",
    "failed_to_create_iot_jobs_role": "❌ 创建 IoT Jobs 角色失败",
    "workshop_tags_applied_to_role": "🏷️  工作坊标签已应用到角色",
    "could_not_apply_tags_to_role": "⚠️  无法将工作坊标签应用到角色",
    "adding_bulk_provisioning_permissions": "📝 向 IAM 角色添加批量配置权限",
    "failed_add_bulk_provisioning_permissions": "❌ 向 IAM 角色添加批量配置权限失败",
    "s3_policy_already_attached_to_role": "✅ Amazon S3 策略已附加到角色"
  },
  
  "errors": {
    "invalid_choice": "❌ 无效选择。请输入 1-4",
    "invalid_number": "❌ 请输入有效数字",
    "task_id_empty": "❌ 任务 ID 不能为空",
    "task_not_found": "❌ 未找到任务 '{}'",
    "failed_list_tasks": "❌ 列出注册任务失败",
    "failed_get_results": "❌ 获取任务结果失败",
    "failed_list_thing_types": "❌ 列出设备类型失败",
    "openssl_failed": "设备 '{}' 的 OpenSSL 命令失败：{}",
    "openssl_not_found": "未找到 OpenSSL。请安装 OpenSSL 以生成设备证书。",
    "openssl_not_available": "OpenSSL 不可用或无法正常工作",
    "credential_generation_failed": "为设备 '{}' 生成凭证失败：{}",
    "client_init_error": "❌ 初始化 AWS 客户端错误：{}",
    "api_error": "❌ {} {} 中的错误：{}",
    "general_error": "❌ 错误：{}",
    "workflow_failed": "❌ 批量注册工作流失败：{}",
    "step0_failed": "❌ 步骤 0 失败：{}",
    "step1_failed": "❌ 步骤 1 失败：{}",
    "step2_failed": "❌ 步骤 2 失败：{}",
    "step3_failed": "❌ 步骤 3 失败：{}",
    "step4_failed": "❌ 步骤 4 失败：{}",
    "invalid_choice_range": "❌ 无效选择。请输入 1-{}",
    "invalid_number_range": "❌ 请输入 1 到 {} 之间的数字",
    "csr_generation_failed": "❌ 为设备 '{}' 生成 CSR 失败",
    "certificate_generation_failed": "❌ {} 的证书生成失败",
    "s3_upload_failed": "❌ 上传文件到 Amazon S3 失败",
    "policy_creation_failed": "❌ 创建策略 '{}' 失败",
    "task_start_failed": "❌ 启动注册任务失败",
    "s3_bucket_not_found": "❌ 未找到工作坊的 Amazon S3 存储桶",
    "iam_role_not_found": "❌ 未找到工作坊的 IAM 角色",
    "s3_bucket_lookup_failed": "❌ 查找 Amazon S3 存储桶失败：{}",
    "iam_role_lookup_failed": "❌ 查找 IAM 角色失败：{}",
    "network_error": "❌ {} 中的网络错误：{}",
    "max_retries_exceeded": "❌ 操作超过最大重试次数 ({})：{}",
    "file_permission_denied": "❌ 写入 {} 权限被拒绝",
    "file_write_failed": "❌ 文件写入失败：{}",
    "template_file_not_found": "❌ 未找到配置模板文件",
    "template_json_invalid": "❌ 配置模板中的 JSON 无效：{}",
    "template_permission_denied": "❌ 读取配置模板权限被拒绝",
    "template_load_failed": "❌ 加载配置模板失败：{}",
    "error_retrieving_thing_types": "❌ 检索设备类型错误：{}",
    "error_analyzing_naming": "❌ 分析设备命名模式错误：{}",
    "template_parsing_error": "调试：模板解析错误：{}",
    "failed_load_template": "❌ 加载配置模板失败",
    "error_checking_role_policy": "❌ 检查角色策略错误：{}",
    "error_ensuring_iam_permissions": "❌ 确保 IAM 角色权限错误：{}",
    "error_in_get_iam_role": "❌ get_iam_role_from_provisioning 中的错误：{}",
    "error_loading_input_template": "❌ 加载输入模板错误：{}",
    "failed_attach_s3_policy": "❌ 将 Amazon S3 策略附加到角色失败",
    "error_creating_s3_policy": "❌ 创建 Amazon S3 策略错误：{}"
  },
  
  "debug": {
    "debug_operation": "🔍 调试：{}：{}",
    "api_call": "📤 API 调用：{}",
    "input_params": "📥 输入参数：",
    "api_response": "📤 API 响应：",
    "resource_not_found": "📝 未找到资源：{}",
    "full_error": "🔍 调试：完整错误响应：",
    "full_traceback": "🔍 调试：完整回溯：",
    "retry_attempt": "🔄 调试：重试尝试 {} / {}",
    "throttling_retry": "⏳ 调试：检测到 {}，在 {:.2f}s 后重试（尝试 {} / {}）",
    "network_retry": "🌐 调试：网络错误 ({})，在 {:.2f}s 后重试（尝试 {} / {}）",
    "network_troubleshooting": "💡 调试：检查互联网连接、AWS 服务状态和区域配置",
    "sample_names": "   示例名称：{}",
    "numbers_found": "   找到的数字：{}",
    "generated_device_names": "   • {}",
    "full_path": "   📁 完整路径：{}",
    "file_size": "   📊 文件大小：{} 字节",
    "upload_null_response": "null",
    "template_parameters": "   参数：{}",
    "template_resources": "   资源：{}",
    "input_template_keys": "   键：{}",
    "private_key_generated": "   ✅ 私钥已生成：{}",
    "csr_generated": "   ✅ CSR 已生成：{}",
    "csr_length": "   📄 CSR 长度：{} 字符",
    "securely_deleted": "   🗑️  安全删除：{}",
    "removed_directory": "   🗑️  已删除目录：{}",
    "cleanup_warning": "   ⚠️  警告：无法清理 {}：{}"
  },
  
  "ui": {
    "operation_menu": "🎯 选择操作：",
    "list_tasks_option": "1. 列出批量注册任务",
    "describe_task_option": "2. 描述注册任务",
    "register_bulk_option": "3. 批量注册设备",
    "check_results_option": "4. 检查任务结果",
    "listing_tasks": "列出批量注册任务...",
    "describe_task": "描述注册任务",
    "bulk_registration": "批量设备注册",
    "check_results": "检查任务结果",
    "task_details": "📋 任务详情：",
    "successful_registrations": "✅ 成功注册 ({})：",
    "failed_registrations": "❌ 失败注册 ({})：",
    "troubleshooting_guidance": "💡 查看失败报告以获取详细错误消息和故障排除指导",
    "downloading_report": "📥 下载报告内容进行预览...",
    "report_download_failed": "⚠️  无法下载报告内容进行预览（URL 可能已过期）",
    "report_preview_success": "📋 成功报告预览（{} / {} 条目）：",
    "report_preview_error": "📋 错误报告预览（{} / {} 条目）：",
    "more_success_reports": "... 还有 {} 个成功报告",
    "more_error_reports": "... 还有 {} 个错误报告",
    "more_successful_registrations": "... 还有 {} 个成功注册",
    "more_failed_registrations": "... 还有 {} 个失败注册",
    "separator_line": "==================================================",
    "goodbye": "👋 感谢使用批量注册管理器！",
    "cancelled": "👋 用户取消批量注册管理。再见！",
    "workflow_completed": "批量注册工作流成功完成！",
    "check_results_guidance": "使用选项 4 '检查任务结果' 监控进度并查看成功/失败报告",
    "step1_title": "步骤 1：创建批量注册输入文件",
    "step2_title": "步骤 2：将输入文件上传到 Amazon S3",
    "step3_title": "步骤 3：确保 BulkProvisioningPolicy 存在",
    "step4_title": "步骤 4：启动批量注册任务",
    "available_thing_types": "📋 可用设备类型：",
    "generating_credentials": "生成设备凭证...",
    "uploading_to_s3": "上传文件到 Amazon S3...",
    "checking_policy": "检查策略 '{}' 是否存在...",
    "task_parameters": "任务参数："
  },
  
  "results": {
    "no_tasks_found": "📭 未找到批量注册任务",
    "create_first_task": "💡 使用选项 3 创建您的第一个批量注册任务",
    "found_tasks": "✅ 找到 {} 个批量注册任务：",
    "no_results_yet": "⏳ 尚无结果 - 任务可能仍在处理中",
    "check_later": "💡 请几分钟后再检查"
  },
  
  "learning": {
    "understanding_bulk_registration_title": "理解批量注册过程",
    "understanding_bulk_registration_description": "在开始之前，让我们了解批量注册涉及什么。AWS IoT Device Management 批量注册允许您使用两个关键组件同时注册多个设备：\n\n1. 输入文件：包含设备信息（名称、证书、属性）的 JSON 文件\n2. 配置模板：定义 AWS 应如何为每个设备创建 AWS IoT Core 资源\n\n该过程涉及创建输入文件，将其上传到 Amazon S3，确保适当的权限，并启动注册任务。每个步骤在整个工作流中都有特定目的。",
    "what_you_will_learn_title": "您将在此工作流中学到什么",
    "what_you_will_learn_description": "在这个实践练习中，您将：\n\n• 了解配置模板如何定义设备创建规则\n• 学习批量操作所需的输入文件格式\n• 了解如何分析和延续设备命名模式\n• 体验设备安全的证书生成\n• 了解 Amazon S3 存储在批量操作中的作用\n• 学习批量配置所需的 AWS IAM 策略\n\n每个步骤都会在执行前进行解释，以便您了解\"是什么\"和\"为什么\"。",
    "step0_understanding_templates_title": "步骤 0：理解配置模板",
    "step0_understanding_templates_description": "配置模板就像一个蓝图，告诉 AWS IoT Device Management 如何为每个设备创建资源。将其视为 AWS 为批量注册中的每个设备遵循的配方。\n\n我们的模板定义：\n• 参数：每个设备必须提供的信息（名称、证书请求等）\n• 资源：AWS 应创建的内容（AWS IoT Core 设备、证书、策略附件）\n• 关系：这些资源如何相互连接\n\n这确保每个设备都获得相同类型的资源和安全配置。",
    "template_components_title": "模板组件分解",
    "template_components_description": "我们的配置模板期望每个设备提供这些参数：\n• {}\n\n并将为每个设备创建这些资源：\n• {}\n\n此模板确保大规模一致、安全的设备注册。",
    "understanding_input_file_title": "理解输入文件要求",
    "understanding_input_file_description": "现在我们需要创建一个输入文件，其中包含我们要注册的每个设备的信息。此文件必须采用 AWS IoT Device Management 可以处理的特定格式。\n\n输入文件将包含：\n• 设备名称：遵循您现有的命名模式\n• 证书：每个设备的安全凭证（CSR 格式）\n• 属性：制造日期和设备类型等附加信息\n• 格式：行分隔 JSON（每行一个设备）\n\n我们将分析您现有的设备以延续您的命名模式，并为每个新设备生成安全证书。",
    "why_s3_storage_title": "为什么需要 Amazon S3 存储",
    "why_s3_storage_description": "AWS IoT Device Management 批量注册要求输入文件存储在 Amazon S3 中。这不仅仅是技术要求 - 它有重要目的：\n\n• 可扩展性：Amazon S3 可以处理包含数千个设备的大文件\n• 可靠性：Amazon S3 在注册过程中提供持久存储\n• 安全性：适当的访问控制确保只有授权服务才能访问设备数据\n• 审计跟踪：Amazon S3 维护注册期间文件访问的日志\n\n我们将把您的输入文件上传到工作坊基础设施使用的同一个 Amazon S3 存储桶。",
    "understanding_iam_policy_title": "理解 AWS IAM 策略要求",
    "understanding_iam_policy_description": "批量配置需要特定权限来创建 AWS IoT Core 资源。AWS 使用 AWS IAM 策略来控制可以执行哪些操作。\n\nBulkProvisioningPolicy 授予以下权限：\n• 创建 AWS IoT Core 设备（注册表中的设备）\n• 从证书签名请求生成证书\n• 将策略附加到证书以获得设备权限\n• 将证书链接到设备以获得设备身份\n\n我们将检查此策略是否存在，如果需要则创建它，确保您的批量注册具有所需权限。",
    "how_registration_task_works_title": "注册任务的工作原理",
    "how_registration_task_works_description": "最后一步创建一个注册任务，AWS IoT Device Management 异步处理该任务。以下是发生的情况：\n\n1. AWS 从 Amazon S3 读取您的输入文件\n2. 对于每个设备，它应用配置模板\n3. 创建资源（AWS IoT Core 设备、证书、策略附件）\n4. 成功/失败结果写回 Amazon S3\n5. 您可以监控进度并检查结果\n\n此过程在后台进行，允许您高效地注册数百或数千个设备。",
    "understanding_thing_types_title": "理解设备类型",
    "understanding_thing_types_description": "AWS IoT Core 使用设备类型对具有相似特征的设备进行分类。将它们视为定义以下内容的设备类别或模板：\n\n• 同类型设备的通用属性\n• 设备管理的可搜索元数据\n• IoT 车队的组织结构\n\n例如：'SedanVehicle'、'TruckVehicle'、'TemperatureSensor' 等。\n您将选择要分配给新设备的设备类型。",
    "no_thing_types_found_title": "未找到设备类型",
    "no_thing_types_found_description": "在您的 AWS IoT Core 注册表中未找到现有设备类型。这对于新环境是正常的。\n\n我们将在此练习中使用 'DefaultThingType'。在生产环境中，您通常会：\n• 为不同的设备类别创建特定的设备类型\n• 为每种类型定义属性和特性\n• 使用设备类型进行设备组织和管理",
    "analyzing_device_naming_title": "分析您的设备命名模式",
    "analyzing_device_naming_description": "现在我们将分析您现有的设备以了解您的命名约定并延续该模式。\n\n脚本将：\n• 查看 AWS IoT Core 注册表中现有的设备名称\n• 识别命名模式（例如，'Vehicle-VIN-001'、'Device-ABC-123'）\n• 找到当前使用的最高数字\n• 生成 5 个遵循您模式的新设备名称\n\n这确保与您现有设备车队的一致性。",
    "generating_security_certificates_title": "生成安全证书",
    "generating_security_certificates_description": "每个 IoT 设备都需要一个唯一的数字证书来与 AWS IoT Core 进行安全通信。我们将生成：\n\n• 私钥：保留在设备上的密钥（2048 位 RSA）\n• 证书签名请求 (CSR)：请求 AWS 创建证书\n• CSR 将包含在我们的输入文件中供 AWS 处理\n\n这确保每个设备都有用于身份验证的唯一、安全的凭证。",
    "input_file_format_title": "输入文件格式说明",
    "input_file_format_description": "输入文件 '{}' 将包含：\n\n• 格式：行分隔 JSON（每行一个设备）\n• 内容：{} 个设备条目，包含名称、证书和属性\n• 结构：每行是一个设备的完整 JSON 对象\n• 目的：AWS IoT Device Management 将处理每行以创建相应的资源\n\n此格式允许高效处理大量设备。",
    "iot_policies_vs_iam_title": "理解 AWS IoT Core 策略与 AWS IAM 策略",
    "iot_policies_vs_iam_description": "AWS IoT Core 使用两种类型的策略：\n\n• AWS IAM 策略：控制 AWS 服务可以做什么（附加到 IAM 角色/用户）\n• AWS IoT Core 策略：控制 IoT 设备可以做什么（附加到证书）\n\n对于批量配置：\n• IAM 角色需要创建 AWS IoT Core 资源的权限\n• AWS IoT Core 策略定义注册设备可以做什么\n• 这些是分开的，在安全模型中服务于不同目的",
    "task_lifecycle_title": "批量注册任务生命周期",
    "task_lifecycle_description": "AWS IoT Device Management 批量注册任务经历几个状态：\n\n• 初始化中：任务正在设置和验证\n• 进行中：正在从输入文件注册设备\n• 已完成：所有设备都已处理（检查成功/失败计数）\n• 停止中：任务正在取消\n• 已停止：任务在完成前被取消\n• 失败：任务遇到严重错误\n\n💡 任务批量处理设备并提供实时进度更新。\n使用\"检查任务结果\"选项查看详细的成功和失败报告。",
    "device_naming_title": "设备命名模式分析",
    "device_naming_description": "AWS IoT Core 设备应遵循一致的命名约定以便于管理：\n\n• 模式检测：脚本分析现有设备名称以识别模式\n• 自动递增：新设备按顺序使用下一个可用数字\n• 常见模式：支持 Vehicle-VIN-XXX、fleet-XXX、device_XXX 格式\n• 一致性：遵循模式有助于设备组织和车队管理\n\n💡 良好的命名约定使大规模识别、分组和管理设备变得更容易。",
    "provisioning_template_title": "AWS IoT Device Management 配置模板",
    "provisioning_template_description": "配置模板定义设备应如何在 AWS IoT Device Management 中注册：\n\n• 参数：设备名称、CSR 和属性等输入值\n• 资源：要创建的 AWS IoT Core 资源（证书、设备、策略）\n• 自动化：模板支持具有一致配置的批量设备注册\n\n主要优势：\n✓ 标准化设备入门流程\n✓ 从 CSR 自动生成证书\n✓ 策略附件和设备创建\n✓ 可扩展到数千个设备\n\n模板创建：\n1. 从您设备的 CSR 创建 AWS IoT Core 证书\n2. 具有指定属性的 AWS IoT Core 设备\n3. 设备权限的策略附件\n4. 安全的设备-证书绑定\n\n更复杂的模板可以包括自定义策略、设备类型和条件逻辑。",
    "s3_upload_title": "批量注册的 Amazon S3 上传",
    "s3_upload_description": "AWS IoT Device Management 批量注册要求输入文件存储在 Amazon S3 中：\n\n• 文件位置：必须可由 AWS IoT Device Management 服务访问\n• 权限：IAM 角色需要 Amazon S3 读取权限\n• 格式：行分隔 JSON (JSONL) 格式\n• 安全性：文件包含设备 CSR（不是私钥）\n\nAmazon S3 存储桶是在配置脚本设置期间创建的。\nAWS IoT Device Management 将读取此文件以处理每个设备注册。",
    "iot_policy_title": "批量注册的 AWS IoT Core 策略",
    "iot_policy_description": "BulkProvisioningPolicy 定义设备注册后可以做什么：\n\n• 权限：iot:* 允许所有 AWS IoT Core 操作（用于学习）\n• 生产：使用具有特定操作的最小权限策略\n• 附件：策略自动附加到设备证书\n• 继承：所有设备获得相同的基本权限\n\n设备的常见 AWS IoT Core 操作：\n- iot:Connect（连接到 AWS IoT Core）\n- iot:Publish（发布到 MQTT 主题）\n- iot:Subscribe（订阅 MQTT 主题）\n- iot:Receive（接收消息）\n- iot:UpdateThingShadow（更新设备影子）\n\n工作坊为简单起见使用 iot:*，但生产应该更严格。",
    "task_monitoring_title": "批量注册任务监控",
    "task_monitoring_description": "AWS IoT Device Management 异步处理批量注册任务：\n\n• 任务创建：StartThingRegistrationTask API 调用\n• 处理：AWS 读取 Amazon S3 文件并处理每个设备\n• 监控：使用 DescribeThingRegistrationTask 查看进度\n• 结果：ListThingRegistrationTaskReports 查看成功/失败\n\n任务生命周期：\n1. 初始化中 - 任务设置和验证\n2. 进行中 - 从输入文件处理设备\n3. 已完成 - 所有设备已处理（检查计数）\n4. 失败 - 发生严重错误\n\n监控提示：\n• 在处理期间定期检查任务状态\n• 大批量可能需要几分钟\n• 使用任务报告识别和修复失败\n• 失败的设备可以单独重新处理",
    "task_results_title": "理解任务结果和报告",
    "task_results_description": "AWS IoT Device Management 为批量注册任务提供详细报告：\n\n• 结果报告：指向包含成功设备注册的 Amazon S3 文件的链接\n• 错误报告：指向包含失败注册和错误详情的 Amazon S3 文件的链接\n• 报告格式：每个报告都是一个可以下载进行分析的 Amazon S3 URL\n• 内联预览：脚本自动下载并显示报告内容以便快速查看\n• 故障排除：错误报告帮助识别 CSR 问题、命名冲突或策略问题\n\n常见失败原因：\n- ThingTypeNotFound：指定的设备类型在您的 AWS 账户中不存在\n- ResourceAlreadyExists：设备名称已存在于 AWS IoT Core 注册表中\n- InvalidRequest：无效的 CSR 格式、编码或缺少必需字段\n- 策略附件失败：未找到 BulkProvisioningPolicy 或权限不足\n- 处理期间的网络或服务超时\n\n故障排除提示：\n• ThingTypeNotFound：首先创建设备类型或使用\"列出设备类型\"中的现有类型\n• ResourceAlreadyExists：使用唯一设备名称或清理现有设备\n• InvalidRequest：验证 CSR 格式并确保存在所有必需的 JSON 字段\n• 检查配置模板参数是否与您的输入文件结构匹配\n\n成功报告包含：\n- 已注册的设备名称\n- 已创建的证书 ARN（为安全起见显示时进行掩码处理）\n- AWS IoT Core 注册表中的设备 ARN\n\n🏭 制造工作流：\n批量注册成功后，制造商可以从成功报告中使用生成的证书，并在生产期间直接将其嵌入到设备中。这使得设备从开机时就能进行安全的设备到云通信，简化制造流程并消除手动证书配置步骤。\n\n使用这些报告验证注册成功并排除任何故障。"
  },
  
  "help": {
    "install_openssl": "使用以下命令安装 OpenSSL：brew install openssl (macOS) 或 apt-get install openssl (Ubuntu)",
    "run_provisioning_script": "💡 请先运行配置脚本以设置所需的 AWS 基础设施",
    "openssl_permissions": "💡 检查文件权限并确保您对当前目录有写入权限",
    "openssl_path": "验证 OpenSSL 已安装并在您的 PATH 环境变量中可用",
    "openssl_general": "验证 OpenSSL 安装并尝试运行 'openssl version' 来测试功能",
    "file_permissions": "💡 检查文件权限并尝试以适当的访问权限运行",
    "file_write_troubleshooting": "💡 检查磁盘空间和文件系统权限",
    "template_file_location": "确保存储库中存在 iot_helpers/utils/bulk_provisioning_template.json 文件",
    "template_json_validation": "验证配置模板文件中的 JSON 语法",
    "template_permissions": "检查配置模板文件的文件权限"
  },
  
  "reports": {
    "success_preview": "📋 成功报告预览（{} / {} 条目）：",
    "error_preview": "📋 错误报告预览（{} / {} 条目）：",
    "device_label": "设备：{}",
    "certificate_arn_label": "证书 ARN：{}",
    "thing_arn_label": "设备 ARN：{}",
    "certificate_label": "证书：{}",
    "error_label": "错误：{}",
    "details_label": "详情：{}",
    "more_success": "... 还有 {} 个成功注册",
    "more_errors": "... 还有 {} 个失败注册",
    "parse_error": "⚠️  无法解析 {} 报告内容：{}",
    "download_error": "⚠️  无法下载报告内容进行预览（URL 可能已过期）",
    "http_error": "⚠️  下载签名 URL 时出现 HTTP 错误：{} {}",
    "url_error": "⚠️  下载签名 URL 时出现 URL 错误：{}",
    "parse_url_error": "⚠️  无法解析 Amazon S3 URL：{}",
    "base_url_info": "基础 URL（无查询）：{}",
    "downloading_report": "📥 下载报告：s3://{}/{}",
    "using_signed_url": "🔗 使用签名 URL 进行下载",
    "download_failed": "⚠️  下载报告错误：{}",
    "more_success_reports": "... 还有 {} 个成功报告",
    "more_error_reports": "... 还有 {} 个错误报告"
  }
}